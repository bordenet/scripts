# Malware Inspection Sandbox - Environment Variables Example
# Copy this file to .env and customize for your setup
#
# IMPORTANT: The .env file is the SINGLE SOURCE OF TRUTH for PKI assets
# PKI files (id_rsa, id_rsa.pub) are NEVER committed to git - only stored in .env
#
# Usage:
#   1. DON'T manually copy this file - the setup script does it for you
#   2. Run: ./setup_sandbox.sh
#   3. The script will:
#      - Create .env from this template
#      - Generate SSH keys
#      - Store keys in .env (Base64 encoded)
#      - Extract keys to temporary files when needed

# =============================================================================
# SSH Keys (Base64 Encoded - Single Source of Truth)
# =============================================================================
# These are populated automatically by setup_sandbox.sh
# The private key is Base64 encoded for safe storage
# NEVER commit these values to git!

SSH_PRIVATE_KEY_B64=""
SSH_PUBLIC_KEY=""

# =============================================================================
# VM Configuration
# =============================================================================

# Name of the UTM virtual machine
VM_NAME=inspection-sandbox

# IP address assigned to the VM (UTM default for shared networking)
# This is typically 192.168.64.2 for the first VM in UTM shared mode
VM_IP=192.168.64.2

# SSH port forwarding configuration
# Host port 2222 forwards to VM port 22
VM_SSH_PORT=2222

# VM user account (Alpine Linux default is root)
VM_USER=root

# =============================================================================
# File Sharing Configuration
# =============================================================================

# Directory shared between host Mac and VM
# Files placed here can be accessed by the VM (read-only)
SHARED_DIR=./shared

# =============================================================================
# Alpine Linux ISO Configuration
# =============================================================================

# Local path to Alpine Linux ISO file
ALPINE_ISO=./alpine.iso

# Alpine Linux version (check https://alpinelinux.org/downloads/ for latest)
ALPINE_VERSION=3.22.1

# Download URL for Alpine Linux Virt ISO
# IMPORTANT: Use alpine-virt, NOT standard Alpine!
# The virt edition has 9p kernel modules for VirtFS/shared folders
# Latest stable: https://alpinelinux.org/downloads/
ALPINE_ISO_URL=https://dl-cdn.alpinelinux.org/alpine/v3.22/releases/x86_64/alpine-virt-3.22.1-x86_64.iso

# =============================================================================
# Optional: Malware Analysis Tool Configuration
# =============================================================================

# ClamAV virus database path (inside VM)
# CLAMAV_DB=/var/lib/clamav

# YARA rules directory (inside VM)
# YARA_RULES=/usr/local/share/yara

# Analysis output directory
# ANALYSIS_OUTPUT=./analysis-results

# =============================================================================
# Optional: Network Isolation Settings
# =============================================================================

# Whether to isolate the VM from host network after setup
# Set to "true" for maximum security (breaks port forwarding)
# Set to "false" to keep SSH access via localhost:2222
# NETWORK_ISOLATED=false

# =============================================================================
# Optional: UTM/QEMU Settings
# =============================================================================

# VM memory allocation in MB
# VM_MEMORY=2048

# VM CPU cores
# VM_CPUS=2

# VM disk size in MB
# VM_DISK_SIZE=8192

# =============================================================================
# Security Notes
# =============================================================================
#
# 1. The .env file is in .gitignore and will NOT be committed to git
# 2. SSH keys (id_rsa, id_rsa.pub) are also in .gitignore
# 3. Never commit sensitive credentials to version control
# 4. The VM uses key-based authentication only (no password auth)
# 5. Shared folder is mounted read-only in the VM for safety
#
# =============================================================================
# Quick Start
# =============================================================================
#
# 1. Copy this file:
#    cp .env.example .env
#
# 2. Run setup script (auto-generates keys and downloads ISO):
#    ./setup_sandbox.sh
#
# 3. Create VM in UTM following SETUP-GUIDE.md
#
# 4. Provision VM with analysis tools:
#    ./provision-vm.sh
#
# 5. Analyze files:
#    ./inspect.sh /path/to/suspicious/file
#
# =============================================================================
